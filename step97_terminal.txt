=== terminal commands version 1.0 ===

# Version checks
echo "=== Checking installed versions ==="
java -version
node -v
mongod --version
rustc --version
cargo --version
spring --version

# Java installation
echo "=== Installing Java 17 ==="
# Ubuntu/Debian
sudo apt update
sudo apt install openjdk-17-jdk -y
# macOS
# brew install openjdk@17
# Windows: Download from https://adoptium.net/

# Node.js installation 
echo "=== Installing Node.js 18+ ==="
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"
nvm install 18
nvm use 18

# MongoDB installation
echo "=== Installing MongoDB 6.0+ ==="
# Ubuntu/Debian
sudo apt install gnupg
wget -qO - https://www.mongodb.org/static/pgp/server-6.0.asc | sudo apt-key add -
echo "deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu focal/mongodb-org/6.0 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-6.0.list
sudo apt update
sudo apt install mongodb-org -y
sudo systemctl start mongod
sudo systemctl enable mongod

# Rust installation
echo "=== Installing Rust and Cargo ==="
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh -s -- -y
source $HOME/.cargo/env

# Spring Boot CLI installation
echo "=== Installing Spring Boot CLI ==="
# Ubuntu/Debian
curl -s https://get.sdkman.io | bash
source "$HOME/.sdkman/bin/sdkman-init.sh"
sdk install springboot

# Essential build tools
echo "=== Installing build essentials ==="
sudo apt update
sudo apt install build-essential git -y

# Verify installations
echo "=== Verifying all installations ==="
java -version
node -v
mongod --version
rustc --version
cargo --version
spring --version
git --version

# Create project directories
echo "=== Creating project structure ==="
mkdir -p parseltongue/{frontend,backend-java,backend-rust,docs}
cd parseltongue

# Initialize git
git init
echo "node_modules/" > .gitignore
echo "target/" >> .gitignore
echo ".env" >> .gitignore
echo "*.log" >> .gitignore
