# Parseltongue v0.1: Project Blueprint

## Directory Structure
```
parseltongue/
â”œâ”€â”€ frontend/                 ğŸ”„ React Frontend
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/      ğŸ”„ UI Components
â”‚   â”‚   â”œâ”€â”€ services/        âŒ API Integration
â”‚   â”‚   â””â”€â”€ types/           ğŸ”„ TypeScript Definitions
â”‚   â””â”€â”€ package.json         âœ… Dependencies
â”œâ”€â”€ backend-java/            ğŸ”„ Spring Boot Backend
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”‚   â”œâ”€â”€ java/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ com/parseltongue/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ config/       ğŸ”„ Configurations
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ controller/   âŒ REST Controllers
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ model/        ğŸ”„ Domain Models
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ repository/   âŒ MongoDB Repos
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ service/      âŒ Business Logic
â”‚   â”‚   â”‚   â””â”€â”€ resources/
â”‚   â”‚   â””â”€â”€ test/
â”‚   â””â”€â”€ build.gradle         âœ… Build Config
â”œâ”€â”€ backend-rust/            ğŸ”„ Rust Backend
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main.rs         ğŸ”„ Entry Point
â”‚   â”‚   â”œâ”€â”€ config/         ğŸ”„ Configuration
â”‚   â”‚   â”œâ”€â”€ handlers/       âŒ Request Handlers
â”‚   â”‚   â”œâ”€â”€ models/         ğŸ”„ Domain Models
â”‚   â”‚   â””â”€â”€ services/       âŒ Business Logic
â”‚   â””â”€â”€ Cargo.toml          âœ… Dependencies
â””â”€â”€ shared/                  ğŸ”„ Shared Resources
    â”œâ”€â”€ types/              ğŸ”„ Common Types
    â””â”€â”€ config/             ğŸ”„ Shared Config
```

## Module Details

### Frontend Module
#### Components
- `AnalysisDashboard` ğŸ”„ Main analysis interface
- `FileUploader` ğŸ”„ Handles file uploads
- `ProgressTracker` ğŸ”„ Shows analysis progress
- `ResultsViewer` âŒ Displays analysis results

#### Services
- `AnalysisService` âŒ Backend API integration
- `FileService` âŒ File handling utilities
- `StatusService` âŒ Progress tracking

DO:
- Use React Query for API state management
- Implement proper error boundaries
- Use TypeScript for all components

DON'T:
- Mix presentation and business logic
- Use class components
- Implement complex state management

### Java Backend Module
#### Core Components
- `AnalysisController` âŒ REST endpoints
- `AnalysisService` âŒ Analysis logic
- `MongoConfig` ğŸ”„ Database setup
- `FileProcessor` ğŸ”„ File handling

#### Models
- `AnalysisJob` ğŸ”„ Job tracking
- `AnalysisResult` âŒ Analysis output
- `FileMetadata` ğŸ”„ File information

DO:
- Use constructor injection
- Implement proper exception handling
- Follow Spring Boot best practices

DON'T:
- Use field injection
- Mix concerns in services
- Skip validation

### Rust Backend Module
#### Core Components
- `analysis_handler` âŒ Request handling
- `file_processor` ğŸ”„ File processing
- `mongo_client` âŒ Database operations

#### Models
- `AnalysisJob` ğŸ”„ Job representation
- `FileMetadata` ğŸ”„ File information
- `AnalysisResult` âŒ Results structure

DO:
- Use async/await properly
- Implement proper error handling
- Follow Rust idioms

DON'T:
- Block the event loop
- Use unwrap() in production code
- Skip error propagation

## Dependencies
```mermaid
graph TD
    Frontend --> JavaBackend
    Frontend --> RustBackend
    JavaBackend --> MongoDB
    RustBackend --> MongoDB
```

## Terminal Commands
```bash
# Remove unused components
./scripts/cleanup.sh

# Update module documentation
./scripts/update-modules.sh

# Validate project structure
./scripts/validate-structure.sh
```

## Update Mechanism
1. Run structure validator:
   ```bash
   ./scripts/validate-structure.sh
   ```

2. Update module status:
   ```bash
   ./scripts/update-status.sh
   ```

3. Generate new documentation:
   ```bash
   ./scripts/generate-docs.sh
   ```

## Implementation Status

### Core Features
- File Upload: ğŸ”„
- Analysis Engine: ğŸ”„
- Progress Tracking: ğŸ”„
- Results Display: âŒ
- Error Handling: ğŸ”„
- Database Operations: âŒ

### Infrastructure
- MongoDB Setup: ğŸ”„
- Java Backend: ğŸ”„
- Rust Backend: ğŸ”„
- Frontend Setup: âœ…

Legend:
âœ… - Complete
ğŸ”„ - In Progress
âŒ - Not Started
âš ï¸ - Extra Feature
ğŸ›‘ - Needs Correction

## Next Steps
1. Complete MongoDB integration
2. Implement REST endpoints
3. Add file analysis logic
4. Create results viewer
5. Add error handling
6. Implement progress tracking

## Version History
- v0.1.0: Initial structure
- v0.1.1: Added component status
- v0.1.2: Updated directory structure
- v0.1.3: Added implementation details