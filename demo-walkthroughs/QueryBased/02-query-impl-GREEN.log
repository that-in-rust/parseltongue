   Compiling parseltongue-core v0.8.7 (/Users/amuldotexe/Projects/parseltongue/crates/parseltongue-core)
error: couldn't read `crates/parseltongue-core/src/../../entity_queries/rust.scm`: No such file or directory (os error 2)
  --> crates/parseltongue-core/src/query_extractor.rs:55:13
   |
55 |             include_str!("../../entity_queries/rust.scm").to_string()
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
help: there is a file with the same name in a different directory
   |
55 |             include_str!("../../../entity_queries/rust.scm").to_string()
   |                                 +++

error: couldn't read `crates/parseltongue-core/src/../../entity_queries/python.scm`: No such file or directory (os error 2)
  --> crates/parseltongue-core/src/query_extractor.rs:59:13
   |
59 |             include_str!("../../entity_queries/python.scm").to_string()
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
help: there is a file with the same name in a different directory
   |
59 |             include_str!("../../../entity_queries/python.scm").to_string()
   |                                 +++

error: couldn't read `crates/parseltongue-core/src/../../entity_queries/c.scm`: No such file or directory (os error 2)
  --> crates/parseltongue-core/src/query_extractor.rs:63:13
   |
63 |             include_str!("../../entity_queries/c.scm").to_string()
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
help: there is a file with the same name in a different directory
   |
63 |             include_str!("../../../entity_queries/c.scm").to_string()
   |                                 +++

error: couldn't read `crates/parseltongue-core/src/../../entity_queries/cpp.scm`: No such file or directory (os error 2)
  --> crates/parseltongue-core/src/query_extractor.rs:67:13
   |
67 |             include_str!("../../entity_queries/cpp.scm").to_string()
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
help: there is a file with the same name in a different directory
   |
67 |             include_str!("../../../entity_queries/cpp.scm").to_string()
   |                                 +++

error: couldn't read `crates/parseltongue-core/src/../../entity_queries/ruby.scm`: No such file or directory (os error 2)
  --> crates/parseltongue-core/src/query_extractor.rs:71:13
   |
71 |             include_str!("../../entity_queries/ruby.scm").to_string()
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
help: there is a file with the same name in a different directory
   |
71 |             include_str!("../../../entity_queries/ruby.scm").to_string()
   |                                 +++

warning: hidden lifetime parameters in types are deprecated
   --> crates/parseltongue-core/src/query_extractor.rs:152:26
    |
152 |         m: &tree_sitter::QueryMatch,
    |             -------------^^^^^^^^^^
    |             |
    |             expected lifetime parameters
    |
note: the lint level is defined here
   --> crates/parseltongue-core/src/lib.rs:8:9
    |
  8 | #![warn(rust_2018_idioms)]
    |         ^^^^^^^^^^^^^^^^
    = note: `#[warn(elided_lifetimes_in_paths)]` implied by `#[warn(rust_2018_idioms)]`
help: indicate the anonymous lifetimes
    |
152 |         m: &tree_sitter::QueryMatch<'_, '_>,
    |                                    ++++++++

error[E0433]: failed to resolve: use of unresolved module or unlinked crate `tree_sitter_rust`
  --> crates/parseltongue-core/src/query_extractor.rs:76:58
   |
76 |         Self::init_parser(&mut parsers, Language::Rust, &tree_sitter_rust::LANGUAGE.into())?;
   |                                                          ^^^^^^^^^^^^^^^^ use of unresolved module or unlinked crate `tree_sitter_rust`
   |
help: there is a crate or module with a similar name
   |
76 -         Self::init_parser(&mut parsers, Language::Rust, &tree_sitter_rust::LANGUAGE.into())?;
76 +         Self::init_parser(&mut parsers, Language::Rust, &tree_sitter::LANGUAGE.into())?;
   |

error[E0433]: failed to resolve: use of unresolved module or unlinked crate `tree_sitter_python`
  --> crates/parseltongue-core/src/query_extractor.rs:77:60
   |
77 |         Self::init_parser(&mut parsers, Language::Python, &tree_sitter_python::LANGUAGE.into())?;
   |                                                            ^^^^^^^^^^^^^^^^^^ use of unresolved module or unlinked crate `tree_sitter_python`
   |
   = help: if you wanted to use a crate named `tree_sitter_python`, use `cargo add tree_sitter_python` to add it to your `Cargo.toml`

error[E0433]: failed to resolve: use of unresolved module or unlinked crate `tree_sitter_c`
  --> crates/parseltongue-core/src/query_extractor.rs:78:55
   |
78 |         Self::init_parser(&mut parsers, Language::C, &tree_sitter_c::LANGUAGE.into())?;
   |                                                       ^^^^^^^^^^^^^ use of unresolved module or unlinked crate `tree_sitter_c`
   |
help: there is a crate or module with a similar name
   |
78 -         Self::init_parser(&mut parsers, Language::C, &tree_sitter_c::LANGUAGE.into())?;
78 +         Self::init_parser(&mut parsers, Language::C, &tree_sitter::LANGUAGE.into())?;
   |

error[E0433]: failed to resolve: use of unresolved module or unlinked crate `tree_sitter_cpp`
  --> crates/parseltongue-core/src/query_extractor.rs:79:57
   |
79 |         Self::init_parser(&mut parsers, Language::Cpp, &tree_sitter_cpp::LANGUAGE.into())?;
   |                                                         ^^^^^^^^^^^^^^^ use of unresolved module or unlinked crate `tree_sitter_cpp`
   |
help: there is a crate or module with a similar name
   |
79 -         Self::init_parser(&mut parsers, Language::Cpp, &tree_sitter_cpp::LANGUAGE.into())?;
79 +         Self::init_parser(&mut parsers, Language::Cpp, &tree_sitter::LANGUAGE.into())?;
   |

error[E0433]: failed to resolve: use of unresolved module or unlinked crate `tree_sitter_ruby`
  --> crates/parseltongue-core/src/query_extractor.rs:80:58
   |
80 |         Self::init_parser(&mut parsers, Language::Ruby, &tree_sitter_ruby::LANGUAGE.into())?;
   |                                                          ^^^^^^^^^^^^^^^^ use of unresolved module or unlinked crate `tree_sitter_ruby`
   |
help: there is a crate or module with a similar name
   |
80 -         Self::init_parser(&mut parsers, Language::Ruby, &tree_sitter_ruby::LANGUAGE.into())?;
80 +         Self::init_parser(&mut parsers, Language::Ruby, &tree_sitter::LANGUAGE.into())?;
   |

error[E0277]: `QueryMatches<'_, '_, &[u8], &[u8]>` is not an iterator
   --> crates/parseltongue-core/src/query_extractor.rs:141:18
    |
141 |         for m in matches {
    |                  ^^^^^^^ `QueryMatches<'_, '_, &[u8], &[u8]>` is not an iterator
    |
    = help: the trait `Iterator` is not implemented for `QueryMatches<'_, '_, &[u8], &[u8]>`
    = note: required for `QueryMatches<'_, '_, &[u8], &[u8]>` to implement `IntoIterator`

error[E0277]: can't compare `&str` with `str`
   --> crates/parseltongue-core/src/query_extractor.rs:165:29
    |
165 |             if capture_name == "name" {
    |                             ^^ no implementation for `&str == str`
    |
    = help: the trait `PartialEq<str>` is not implemented for `&str`
    = note: required for `&&str` to implement `PartialEq<&str>`
help: consider dereferencing here
    |
165 |             if *capture_name == "name" {
    |                +

error[E0433]: failed to resolve: use of unresolved module or unlinked crate `tree_sitter_rust`
   --> crates/parseltongue-core/src/query_extractor.rs:208:31
    |
208 |             Language::Rust => tree_sitter_rust::LANGUAGE.into(),
    |                               ^^^^^^^^^^^^^^^^ use of unresolved module or unlinked crate `tree_sitter_rust`
    |
help: there is a crate or module with a similar name
    |
208 -             Language::Rust => tree_sitter_rust::LANGUAGE.into(),
208 +             Language::Rust => tree_sitter::LANGUAGE.into(),
    |

error[E0433]: failed to resolve: use of unresolved module or unlinked crate `tree_sitter_python`
   --> crates/parseltongue-core/src/query_extractor.rs:209:33
    |
209 |             Language::Python => tree_sitter_python::LANGUAGE.into(),
    |                                 ^^^^^^^^^^^^^^^^^^ use of unresolved module or unlinked crate `tree_sitter_python`
    |
    = help: if you wanted to use a crate named `tree_sitter_python`, use `cargo add tree_sitter_python` to add it to your `Cargo.toml`

error[E0433]: failed to resolve: use of unresolved module or unlinked crate `tree_sitter_c`
   --> crates/parseltongue-core/src/query_extractor.rs:210:28
    |
210 |             Language::C => tree_sitter_c::LANGUAGE.into(),
    |                            ^^^^^^^^^^^^^ use of unresolved module or unlinked crate `tree_sitter_c`
    |
help: there is a crate or module with a similar name
    |
210 -             Language::C => tree_sitter_c::LANGUAGE.into(),
210 +             Language::C => tree_sitter::LANGUAGE.into(),
    |

error[E0433]: failed to resolve: use of unresolved module or unlinked crate `tree_sitter_cpp`
   --> crates/parseltongue-core/src/query_extractor.rs:211:30
    |
211 |             Language::Cpp => tree_sitter_cpp::LANGUAGE.into(),
    |                              ^^^^^^^^^^^^^^^ use of unresolved module or unlinked crate `tree_sitter_cpp`
    |
help: there is a crate or module with a similar name
    |
211 -             Language::Cpp => tree_sitter_cpp::LANGUAGE.into(),
211 +             Language::Cpp => tree_sitter::LANGUAGE.into(),
    |

error[E0433]: failed to resolve: use of unresolved module or unlinked crate `tree_sitter_ruby`
   --> crates/parseltongue-core/src/query_extractor.rs:212:31
    |
212 |             Language::Ruby => tree_sitter_ruby::LANGUAGE.into(),
    |                               ^^^^^^^^^^^^^^^^ use of unresolved module or unlinked crate `tree_sitter_ruby`
    |
help: there is a crate or module with a similar name
    |
212 -             Language::Ruby => tree_sitter_ruby::LANGUAGE.into(),
212 +             Language::Ruby => tree_sitter::LANGUAGE.into(),
    |

Some errors have detailed explanations: E0277, E0433.
For more information about an error, try `rustc --explain E0277`.
warning: `parseltongue-core` (lib test) generated 1 warning
error: could not compile `parseltongue-core` (lib test) due to 17 previous errors; 1 warning emitted
warning: build failed, waiting for other jobs to finish...
warning: `parseltongue-core` (lib) generated 1 warning (1 duplicate)
error: could not compile `parseltongue-core` (lib) due to 17 previous errors; 1 warning emitted
   Compiling parseltongue-core v0.8.7 (/Users/amuldotexe/Projects/parseltongue/crates/parseltongue-core)
error[E0277]: `QueryMatches<'_, '_, &[u8], &[u8]>` is not an iterator
   --> crates/parseltongue-core/src/query_extractor.rs:139:18
    |
139 |         for m in cursor.matches(&query, tree.root_node(), source.as_bytes()) {
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `QueryMatches<'_, '_, &[u8], &[u8]>` is not an iterator
    |
    = help: the trait `Iterator` is not implemented for `QueryMatches<'_, '_, &[u8], &[u8]>`
    = note: required for `QueryMatches<'_, '_, &[u8], &[u8]>` to implement `IntoIterator`

For more information about this error, try `rustc --explain E0277`.
error: could not compile `parseltongue-core` (lib) due to 1 previous error
warning: build failed, waiting for other jobs to finish...
error: could not compile `parseltongue-core` (lib test) due to 1 previous error
   Compiling parseltongue-core v0.8.7 (/Users/amuldotexe/Projects/parseltongue/crates/parseltongue-core)
error[E0599]: no method named `next` found for struct `QueryMatches` in the current scope
   --> crates/parseltongue-core/src/query_extractor.rs:140:37
    |
140 |         while let Some(m) = matches.next() {
    |                                     ^^^^
    |
   ::: /Users/amuldotexe/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/streaming-iterator-0.1.9/src/lib.rs:91:8
    |
 91 |     fn next(&mut self) -> Option<&Self::Item> {
    |        ---- the method is available for `QueryMatches<'_, '_, &[u8], &[u8]>` here
    |
    = help: items from traits can only be used if the trait is in scope
help: trait `StreamingIterator` which provides `next` is implemented but not in scope; perhaps you want to import it
    |
  8 + use tree_sitter::StreamingIterator;
    |
help: there is a method `next_mut` with a similar name
    |
140 |         while let Some(m) = matches.next_mut() {
    |                                         ++++

For more information about this error, try `rustc --explain E0599`.
error: could not compile `parseltongue-core` (lib) due to 1 previous error
warning: build failed, waiting for other jobs to finish...
error: could not compile `parseltongue-core` (lib test) due to 1 previous error
   Compiling parseltongue-core v0.8.7 (/Users/amuldotexe/Projects/parseltongue/crates/parseltongue-core)
warning: unreachable pattern
  --> crates/parseltongue-core/tests/tool1_verification.rs:44:13
   |
44 |             _ => {}
   |             ^ no value can reach this
   |
note: multiple earlier patterns match some of the same values
  --> crates/parseltongue-core/tests/tool1_verification.rs:44:13
   |
42 |             parseltongue_core::entities::EntityClass::TestImplementation => test_count += 1,
   |             ------------------------------------------------------------ matches some of the same values
43 |             parseltongue_core::entities::EntityClass::CodeImplementation => code_count += 1,
   |             ------------------------------------------------------------ matches some of the same values
44 |             _ => {}
   |             ^ collectively making this unreachable
   = note: `#[warn(unreachable_patterns)]` on by default

warning: `parseltongue-core` (test "tool1_verification") generated 1 warning
    Finished `test` profile [unoptimized + debuginfo] target(s) in 3.41s
     Running unittests src/lib.rs (target/debug/deps/parseltongue_core-024b8962ba4dcafe)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 40 filtered out; finished in 0.00s

     Running tests/cozo_storage_integration_tests.rs (target/debug/deps/cozo_storage_integration_tests-8b34799490a356fb)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 35 filtered out; finished in 0.00s

     Running tests/end_to_end_workflow.rs (target/debug/deps/end_to_end_workflow-69f45b2007ba7a44)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 1 filtered out; finished in 0.00s

     Running tests/query_based_extraction_test.rs (target/debug/deps/query_based_extraction_test-3ca9aede5095df23)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 5 filtered out; finished in 0.00s

     Running tests/tool1_verification.rs (target/debug/deps/tool1_verification-c73284f0bbffa895)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 1 filtered out; finished in 0.00s

     Running tests/tool2_temporal_operations.rs (target/debug/deps/tool2_temporal_operations-65cdba07c7915a31)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 8 filtered out; finished in 0.00s

     Running tests/tool3_prd_compliance.rs (target/debug/deps/tool3_prd_compliance-81f6072ec4ed6dd2)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 3 filtered out; finished in 0.00s

    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.08s
     Running tests/query_based_extraction_test.rs (target/debug/deps/query_based_extraction_test-3ca9aede5095df23)

running 5 tests
test test_malformed_code_no_panic ... ok
test test_query_rust_functions_and_structs ... ok
test test_query_c_functions_and_structs ... FAILED
test test_query_python_classes_and_functions ... FAILED
test test_performance_contract_rust ... FAILED

failures:

---- test_query_c_functions_and_structs stdout ----

thread 'test_query_c_functions_and_structs' panicked at crates/parseltongue-core/tests/query_based_extraction_test.rs:89:5:
assertion `left == right` failed: Should extract function + 2 structs
  left: 4
 right: 3
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_query_python_classes_and_functions stdout ----

thread 'test_query_python_classes_and_functions' panicked at crates/parseltongue-core/tests/query_based_extraction_test.rs:62:5:
assertion `left == right` failed: Should extract class + 2 functions
  left: 4
 right: 3

---- test_performance_contract_rust stdout ----

thread 'test_performance_contract_rust' panicked at crates/parseltongue-core/tests/query_based_extraction_test.rs:104:5:
Parsing 1K LOC took 28.9725ms, expected <20ms


failures:
    test_performance_contract_rust
    test_query_c_functions_and_structs
    test_query_python_classes_and_functions

test result: FAILED. 2 passed; 3 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.03s

error: test failed, to rerun pass `-p parseltongue-core --test query_based_extraction_test`
   Compiling parseltongue-core v0.8.7 (/Users/amuldotexe/Projects/parseltongue/crates/parseltongue-core)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.42s
     Running tests/query_based_extraction_test.rs (target/debug/deps/query_based_extraction_test-3ca9aede5095df23)

running 5 tests
Python entities extracted:
  - Class: Calculator
  - Method: add
  - Function: add
  - Function: hello_world

thread 'test_query_python_classes_and_functions' panicked at crates/parseltongue-core/tests/query_based_extraction_test.rs:68:5:
assertion `left == right` failed: Should extract class + 2 functions
  left: 4
 right: 3
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
test test_query_python_classes_and_functions ... FAILED
test test_malformed_code_no_panic ... ok
test test_query_rust_functions_and_structs ... ok
C entities extracted:
  - Function: add
  - Struct: Node
  - Struct: Node
  - Typedef: Person

thread 'test_query_c_functions_and_structs' panicked at crates/parseltongue-core/tests/query_based_extraction_test.rs:101:5:
assertion `left == right` failed: Should extract function + 2 structs
  left: 4
 right: 3
test test_query_c_functions_and_structs ... FAILED

thread 'test_performance_contract_rust' panicked at crates/parseltongue-core/tests/query_based_extraction_test.rs:116:5:
Parsing 1K LOC took 41.325583ms, expected <20ms
test test_performance_contract_rust ... FAILED

failures:

failures:
    test_performance_contract_rust
    test_query_c_functions_and_structs
    test_query_python_classes_and_functions

test result: FAILED. 2 passed; 3 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.04s

error: test failed, to rerun pass `-p parseltongue-core --test query_based_extraction_test`
   Compiling parseltongue-core v0.8.7 (/Users/amuldotexe/Projects/parseltongue/crates/parseltongue-core)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.77s
     Running tests/query_based_extraction_test.rs (target/debug/deps/query_based_extraction_test-3ca9aede5095df23)

running 5 tests
test test_malformed_code_no_panic ... ok
test test_query_rust_functions_and_structs ... ok
test test_query_c_functions_and_structs ... ok
test test_query_python_classes_and_functions ... ok
test test_performance_contract_rust ... ok

test result: ok. 5 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.04s

