# Parseltongue v0.1.2: Project Blueprint

## Directory Structure
```
.
â”œâ”€â”€ frontend/                    # Next.js 14+ Frontend
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/                âŒ Next.js App Router
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx           # Landing page
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx         # Root layout
â”‚   â”‚   â”‚   â””â”€â”€ analyze/           # Analysis routes
â”‚   â”‚   â”œâ”€â”€ components/         ğŸ”„ React Components
â”‚   â”‚   â”‚   â”œâ”€â”€ AnalysisDashboard/ # Main dashboard
â”‚   â”‚   â”‚   â”œâ”€â”€ FileUpload/        # File upload (100MB limit)
â”‚   â”‚   â”‚   â”œâ”€â”€ BackendSelector/   # Java/Rust toggle
â”‚   â”‚   â”‚   â”œâ”€â”€ ProgressBar/       # Real-time progress
â”‚   â”‚   â”‚   â””â”€â”€ ResultsView/       # Analysis results
â”‚   â”‚   â”œâ”€â”€ services/          âŒ API Integration
â”‚   â”‚   â”‚   â”œâ”€â”€ analysisApi.ts     # Analysis endpoints
â”‚   â”‚   â”‚   â”œâ”€â”€ progressApi.ts     # Progress tracking
â”‚   â”‚   â”‚   â””â”€â”€ resultsApi.ts      # Results fetching
â”‚   â”‚   â””â”€â”€ types/             ğŸ”„ Type Definitions
â”‚   â”œâ”€â”€ tailwind.config.js     âŒ Tailwind 3.x config
â”‚   â””â”€â”€ package.json           âœ… Dependencies

â”œâ”€â”€ backend-java/              # Spring Boot 3.x Backend
â”‚   â”œâ”€â”€ src/main/java/com/parseltongue/
â”‚   â”‚   â”œâ”€â”€ config/           ğŸ”„ Configurations
â”‚   â”‚   â”‚   â”œâ”€â”€ MongoConfig      # MongoDB setup
â”‚   â”‚   â”‚   â””â”€â”€ WebConfig        # CORS, security
â”‚   â”‚   â”œâ”€â”€ controller/       âŒ REST Controllers
â”‚   â”‚   â”‚   â”œâ”€â”€ AnalysisController  # Analysis endpoints
â”‚   â”‚   â”‚   â””â”€â”€ HealthController    # Health checks
â”‚   â”‚   â”œâ”€â”€ model/            ğŸ”„ Domain Models
â”‚   â”‚   â”‚   â”œâ”€â”€ AnalysisJob       # Job tracking
â”‚   â”‚   â”‚   â””â”€â”€ AnalysisResult    # Analysis output
â”‚   â”‚   â”œâ”€â”€ repository/       âŒ MongoDB Repos
â”‚   â”‚   â”‚   â””â”€â”€ AnalysisRepository # Data access
â”‚   â”‚   â””â”€â”€ service/          âŒ Business Logic
â”‚   â”‚       â”œâ”€â”€ AnalysisService    # Core analysis
â”‚   â”‚       â””â”€â”€ FileService        # File handling
â”‚   â””â”€â”€ build.gradle          âœ… Build config

â”œâ”€â”€ backend-rust/             # Rust 1.70+ Backend
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main.rs          ğŸ”„ Entry point
â”‚   â”‚   â”œâ”€â”€ config/          ğŸ”„ Configuration
â”‚   â”‚   â”‚   â”œâ”€â”€ app.rs          # App settings
â”‚   â”‚   â”‚   â””â”€â”€ db.rs           # MongoDB config
â”‚   â”‚   â”œâ”€â”€ handlers/        âŒ Request Handlers
â”‚   â”‚   â”‚   â”œâ”€â”€ analysis.rs     # Analysis routes
â”‚   â”‚   â”‚   â””â”€â”€ health.rs       # Health checks
â”‚   â”‚   â”œâ”€â”€ models/          ğŸ”„ Domain Models
â”‚   â”‚   â”‚   â”œâ”€â”€ job.rs          # Analysis job
â”‚   â”‚   â”‚   â””â”€â”€ result.rs       # Analysis result
â”‚   â”‚   â””â”€â”€ services/        âŒ Business Logic
â”‚   â”‚       â”œâ”€â”€ analyzer.rs     # Analysis service
â”‚   â”‚       â””â”€â”€ file.rs         # File processing
â”‚   â””â”€â”€ Cargo.toml           âœ… Dependencies

â””â”€â”€ shared/                   # Shared Resources
    â”œâ”€â”€ types/               ğŸ”„ Common Types
    â””â”€â”€ config/              ğŸ”„ Shared Config
```

## Implementation Details

### Frontend (Next.js 14+)
#### Key Features
- File upload interface âŒ
- Backend selection (Java/Rust) âŒ
- Progress tracking display âŒ
- Results visualization âŒ

#### Technical Stack
- Next.js 14+ âœ…
- Tailwind CSS 3.x âŒ
- TypeScript âœ…
- React Query âŒ

DO:
- Use Next.js App Router
- Implement Server Components where beneficial
- Follow Tailwind best practices
- Use TypeScript strictly

DON'T:
- Mix client/server concerns
- Skip error boundaries
- Ignore TypeScript types
- Over-engineer state management

### Java Backend (Spring Boot 3.x)
#### Key Features
- File analysis service âŒ
- MongoDB integration âŒ
- REST endpoints âŒ
- Progress tracking âŒ

#### Technical Stack
- Java 21 JDK âœ…
- Spring Boot 3.x âœ…
- Spring Data MongoDB âŒ
- Gradle âœ…

DO:
- Use Java 21 features
- Implement proper error handling
- Use constructor injection
- Follow reactive patterns

DON'T:
- Block I/O operations
- Skip input validation
- Mix service responsibilities
- Use field injection

### Rust Backend (1.70+)
#### Key Features
- Parallel file analysis âŒ
- MongoDB operations âŒ
- REST implementation âŒ
- Status management âŒ

#### Technical Stack
- Rust 1.70+ âœ…
- Actix-web âŒ
- Tokio runtime âŒ
- MongoDB driver âŒ

DO:
- Use async/await properly
- Implement proper error types
- Follow Rust idioms
- Use type-safe MongoDB operations

DON'T:
- Block the event loop
- Use unwrap() in production
- Skip error handling
- Mix sync/async code

## Performance Requirements
- Page Load: < 2s
- Repo Validation: < 1s
- Analysis Start: < 3s
- Full Analysis: < 5min (100MB)
- Results View: < 2s

## Terminal Commands
```bash
# Validate project structure
./scripts/validate.sh

# Check component status
./scripts/status.sh

# Clean unused components
./scripts/cleanup.sh

# Update documentation
./scripts/update-docs.sh
```

## Implementation Status

### Core Features
- File Upload: âŒ
- Analysis Engine: âŒ
- Progress Tracking: âŒ
- Results Display: âŒ
- Error Handling: âŒ
- Database Operations: âŒ

### Infrastructure
- MongoDB Setup: ğŸ”„
- Java Backend: ğŸ”„
- Rust Backend: ğŸ”„
- Frontend Setup: ğŸ”„

Legend:
âœ… - Complete
ğŸ”„ - In Progress
âŒ - Not Started
âš ï¸ - Extra Feature
ğŸ›‘ - Needs Correction

## Next Steps
1. Complete infrastructure setup
2. Implement file upload
3. Add backend selection
4. Create analysis services
5. Add progress tracking
6. Implement results display

## Version History
v0.1.2 - Updated for Next.js 14, Java 21, Rust 1.70+
v0.1.1 - Added implementation details
v0.1.0 - Initial structure 